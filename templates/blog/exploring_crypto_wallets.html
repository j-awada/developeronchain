{% extends 'general/base.html' %}

{% load static %}

{% block head_tag %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="A primer on learning Rust" content="An introduction to Rust" />
  <meta name="keywords" content="Rust, memory, variables, tuples, structs, enums, options, iterators, borrowing, ownership, traits">
  <title>A primer on learning Rust</title>
{% endblock %}

{% block body %}

{% include 'general/side_navbar.html' %}

<div class="main-wrapper">
      
  <article class="blog-post px-3 py-5 p-md-5">
    <div class="container single-col-max-width">
      <header class="blog-post-header">
        <h2 class="title mb-2">Exploring wallet balance with Python</h2>
        <div class="meta mb-3"><span class="date">April 2022</span><span class="time">5 min read</span></div>
      </header>

      <div class="blog-post-body">
        <figure class="blog-banner">
          <img class="img-fluid" src="{% static 'assets/images/wallets_and_addresses/wallets_and_addresses.png' %}" alt="image">
        </figure>

        <h3 class="mt-5 mb-3">Finding a wallet address</h3>
        <p>Probably one of the most famous wallets is one of Satoshi Nakamoto's containing BTC that does not move. Another famous wallet is Vitalik Buterin's Eth wallet. To get the addesses of those 2 wallets, a simple Google search can help.</p>

        <p>Satoshi's BTC wallet address:</p>

        <pre>
        <code>
1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa
        </code>
        </pre>

        <p>Vitalik's ETH wallet address:</p>

        <pre>
        <code>
0x220866b1a2219f40e72f5c628b65d54268ca3a9d
        </code>
        </pre>

        <p>Those 2 addresses look quite different and that is because they are on 2 different blockchains.</p>

        <h3 class="mt-5 mb-3">The plan</h3>
        <p>The goal here is to write Python code to explore the balance of those 2 wallet addresses. There are many publicly available APIs that we can query to get what we want. The API will be able to interact with one of the blockchains. So it is typical for us to use a resource to find the balance of a BTC wallet and another to find the balance of an ETH wallet.</p>

        <h5 class="my-3">Coding it up</h5>
        <p>There are a lot of open-source modules out there that you can use to get a wallet balance. I will for now use the vanilla requests module in Python to interact with public and free APIs to get wallet balances.</p>

        <h5 class="my-3">BTC</h5>
        <p>A simple query to the <a class="text-link" href="https://www.blockchain.com/api" target="_blank">Blockchain.info</a> API from Blockchain.com will get us the wallet balance.</p>

        <pre>
        <code>
import requests

## the wallet address
satoshis_wallet = '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa'

## the target URI
balance_uri = f'https://blockchain.info/q/addressbalance/{satoshis_wallet}'

## send a GET request
wallet_request = requests.get(balance_uri)

## return the amount in sats
wallet_request.json()
        </code>
        </pre>


        <h5 class="my-3">ETH</h5>
        <p>To interact with the Ethereum blockchain, you can use the <a class="text-link" href="https://docs.etherscan.io/getting-started/creating-an-account" target="_blank">Etherscan.io</a> API. They have a free community offer for a low request load that you can use. You have to create an account on their website and generate API keys to start using the API.</p>

        <p>The process of obtaining the API keys is straightforward, once you have that you can execute the code below to get the wallet balance.</p>

        <pre>
        <code>
import requests

## the wallet address
vitaliks_wallet = '0x220866b1a2219f40e72f5c628b65d54268ca3a9d'

## API keys for Etherscan.io
api_token = 'my_api_token'

## the target URI
balance_uri = f'https://api.etherscan.io/api?module=account&action=balance&address={vitaliks_wallet}&tag=latest&apikey={api_token}'

## send a GET request
wallet_request = requests.get(balance_uri)

## return the amount in wei
wallet_request.json()['result']
        </code>
        </pre>
 
      </div>
    </div><!--//container-->
  </article>
      
  <section class="cta-section theme-bg-light py-5">
  <div class="container text-center">
    <h2 class="heading">Another Rust blog</h2>
    <div class="intro">(with the occasional DevOps article) ðŸ˜¬</div>
    <div class="single-form-max-width pt-3 mx-auto">
    {% include 'general/subscriber_form.html' %}
    </div><!--//single-form-max-width-->
  </div><!--//container-->
  </section>
    
</div><!--//main-wrapper-->

    
{% endblock %}

